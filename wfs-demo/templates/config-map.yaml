apiVersion: v1
kind: ConfigMap
metadata:
  name: landing-page
data:
  customConfig: |
  {{- if .Values.customConfig }}
{{ .Values.customConfig | indent 4 }}
  {{- else }}
    some custom multiline config
    config:
      object:
        - array1
        - array2
  {{- end }}
{{- if .Values.landingPage.override }}
{{- if .Values.landingPage.content }}
{{- range $key, $value := .Values.landingPage.content }}
  {{ $key }}: |
{{ $value | indent 4 }}
{{- end }}
{{- else }}
  index.html: |
    <html>
    <head>
      <title>Welcome to Stackguardian</title>
    </head>
    <body>
      <h1>Welcome to Stackguardian test landing page.</h1>
      <p>This is a custom landing page generated from the config-map.yaml in Helm Chart.</p>
    </body>
    </html>
{{- end }}
{{- end }}
